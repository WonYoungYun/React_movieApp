{"version":3,"sources":["components/Movie.js","components/TopButton.js","App.js","index.js"],"names":["MoviePoster","_ref2","poster","alt","react_default","a","createElement","src","title","className","MovieGenresList","_ref3","genres","map","genre","index","Movie_MovieGenres","key","MovieGenres","_ref4","Movie","_ref","synopsis","Movie_MoviePoster","Movie_MovieGenresList","lib_default","text","maxLine","ellipsis","trimRight","basedOn","TopButton","scrollTop","window","scrollTo","onClick","this","props","isLoadPage","Component","App","state","pageNum","handleScroll","_this","scroll","scrollY","document","body","scrollHeight","offsetHeight","setState","__getMovies","__renderMovies","movies","movie","src_components_Movie","medium_cover_image","id","_callee","getMovies","regenerator_default","wrap","_context","prev","next","__callApi","sent","concat","stop","fetch","then","res","json","data","catch","err","console","log","addEventListener","removeEventListener","TopButton_TopButton","ReactDOM","render","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.16483de7.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./Movie.css\";\r\nimport LinesEllipsis from \"react-lines-ellipsis\";\r\n\r\nconst Movie = ({ title, poster, genres, synopsis }) => {\r\n  return (\r\n    <div className=\"movie\">\r\n      <div className=\"movie_columns\">\r\n        <MoviePoster poster={poster} alt={title} />\r\n      </div>\r\n      <div className=\"movie_columns\">\r\n        <h1>{title}</h1>\r\n        <div className=\"movie_genres\">\r\n          <MovieGenresList genres={genres} />\r\n        </div>\r\n        <div className=\"movie_synodivsis\">\r\n          <LinesEllipsis\r\n            text={synopsis}\r\n            maxLine=\"3\"\r\n            ellipsis=\"...\"\r\n            trimRight\r\n            basedOn=\"letters\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst MoviePoster = ({ poster, alt }) => {\r\n  return <img src={poster} alt={alt} title={alt} className=\"movie_poster\" />;\r\n};\r\n\r\nconst MovieGenresList = ({ genres }) => {\r\n  return genres.map((genre, index) => (\r\n    <MovieGenres genre={genre} key={index} />\r\n  ));\r\n};\r\n\r\nconst MovieGenres = ({ genre }) => {\r\n  return <span className=\"movie_genre\">{genre}</span>;\r\n};\r\n\r\nexport default Movie;\r\n","import React, { Component } from \"react\";\r\nimport \"./TopButton.css\";\r\n\r\nexport default class TopButton extends Component {\r\n  scrollTop = () => {\r\n    window.scrollTo(0, 0);\r\n  };\r\n  render() {\r\n    return (\r\n      <button\r\n        onClick={this.scrollTop}\r\n        className={this.props.isLoadPage ? \"display-button\" : \"disable-button\"}\r\n      >\r\n        &and;\r\n      </button>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Movie from \"./components/Movie\";\nimport TopButton from \"./components/TopButton\";\n\nclass App extends Component {\n  state = {\n    pageNum: 1,\n    isLoadPage: false\n  };\n\n  componentDidMount() {\n    this.__getMovies();\n    window.addEventListener(\"scroll\", this.handleScroll);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  }\n  handleScroll = () => {\n    const { pageNum } = this.state;\n    let scroll = window.scrollY;\n    if (document.body.scrollHeight - document.body.offsetHeight === scroll) {\n      this.setState({\n        pageNum: pageNum + 1\n      });\n      this.__getMovies();\n    }\n  };\n  __renderMovies = () => {\n    const list = this.state.movies.map(movie => {\n      return (\n        <Movie\n          title={movie.title}\n          poster={movie.medium_cover_image}\n          key={movie.id}\n          genres={movie.genres}\n          synopsis={movie.synopsis}\n        />\n      );\n    });\n    return list;\n  };\n\n  __getMovies = async () => {\n    const { pageNum } = this.state;\n    const getMovies = await this.__callApi();\n    if (pageNum === 1) {\n      this.setState({\n        movies: getMovies\n      });\n    } else {\n      const movies = this.state.movies.concat(getMovies);\n      this.setState({\n        movies,\n        isLoadPage: true\n      });\n    }\n  };\n\n  __callApi = () => {\n    const { pageNum } = this.state;\n    return fetch(\n      `https://yts.am/api/v2/list_movies.json?sort_by=rating&limit=12&page=${pageNum}`\n    )\n      .then(res => res.json())\n      .then(json => json.data.movies)\n      .catch(err => console.log(err));\n  };\n  render() {\n    const { movies } = this.state;\n    return (\n      <div className={movies ? \"App\" : \"App-loading\"}>\n        {this.state.movies ? this.__renderMovies() : \"Loading...\"}\n        <TopButton isLoadPage={this.state.isLoadPage} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n"],"sourceRoot":""}